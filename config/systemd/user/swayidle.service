[Unit]
PartOf=graphical-session.target
After=graphical-session.target
Requisite=graphical-session.target

[Service]
ExecStart=/run/current-system/sw/bin/swayidle -w timeout 855 'niri msg action power-off-monitors' timeout 900 'swaylock -f -C ~/.config/nixconfig/current/theme/swaylock.config' before-sleep 'swaylock -f'
Restart=on-failure
